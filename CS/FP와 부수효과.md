## 함수형 프로그래밍의 목적

- 부수 효과(Side Effect)의 최소화와 불변성을 통한 안정성.

- 순수함수 위주로 작성하면 같은 입력에 대해 항상 같은 출력이 보장되므로 예측 가능하다. <br/>이는 테스트를 쉽게 만들고, 상태 변경 추적을 용이하게 하여 복잡한 비동기 통신이 많은 웹 환경에서 버그를 줄여준다.

## 함수형 프로그래밍이 무조건 부수효과를 최소화 하는가?


### 1. 부수 효과 없이는 프로그램도 없다.

- 부수 효과: 외부의 상태를 변경하거나, 외부와 상호작용하는 모든 것.
- ex) 화면에 글자 띄우기, 서버에 데이터 보내기, DB 저장하기 등

만약 부수효과를 완전히 0으로 만든다면 쓸모없는 프로그램일 것이다. 따라서 함수형에도 부수효과를 반드시 실행해야 한다.


### 2. 함수형 프로그래밍의 전략

> "순수 함수"와 "불순 영역"의 철저한 분리

함수형 프로그래밍은 부수 효과를 최소화한다기보다, **부수 효과가 발생하는 구역을 가장자리로 밀어내는 전략을 취한다.** <br/>
샌드위치 구조 또는 양파 껍질 구조라고도 한다.

- 순수 영역
  - 비즈니스 로직, 데이터 계산, 변환
  - 부수효과 절대 일어나지 않도록 작성한다. (테스트가 용이함)
 
- 불순 영역
  - 프로그램의 가장 바깥쪽
  - 여기서만 API 호출하고, DOM을 조작하고, 사용자의 입력을 받는다.
 
**핵심**
- 어디서는 부수 효과가 터질 수 있는 코드(기존 명령형) vs 부수 효과는 오직 Edge에서만 일어난다고 보장된 코드
- 이 차이 덕분에 함수형 프로그래밍이 안정적이라고 하는 것.

### 3. 리액트 적용 예시

- 렌더링 로직(Pure): 컴포넌트 내부 JSX 리턴부는 순수해야 한다. `props`와 `state`가 같으면 항상 같은 UI가 나와야 한다.<br/>갑자기 fetch하거나 document.body를 바꾸면 안 된다.
- 부수 효과(Impure): 그래서 리액트는 부수효과를 위한 별도의 공간을 가지는데, 바로 **useEffect**와 **이벤트 핸들러**이다.

### 결론

함수형 프로그래밍은 부수 효과를 없애려는 것이 아니라, 위험 물질로 취급하여 **지정된 장소**에서만 다루려고 하는 것.<br/>
비즈니스 로직과 부수효과를 철저히 분리하여 시스템 예측 가능성을 높이는 것을 목표로 한다.
